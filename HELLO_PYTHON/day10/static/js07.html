<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
table{
	text-align: center;
}
#it{
	width: 50px;
}
</style>
<script type="text/javascript">
var com = "321";

function getR3(){
	var arr = [1,2,3,4,5,6,7,8,9];
	
	for(var i=0;i<100000;i++){
        var rnd = parseInt(Math.random()*9);
        var a = arr[0];
        arr[0]=arr[rnd];
        arr[rnd]=a;
	}
	com = arr[0]+""+arr[1]+""+arr[2];
	console.log("com",com);
}

function getS(com,mine){
	var cnt= 0;
	var c1 = com.substring(0,1);
	var c2 = com.substring(1,2);
	var c3 = com.substring(2,3);
	
	var m1 = mine.substring(0,1);
	var m2 = mine.substring(1,2);
	var m3 = mine.substring(2,3);
	
	if(c1 == m1) cnt++;
	if(c2 == m2) cnt++;
	if(c3 == m3) cnt++;
	return cnt;
}

function getB(com,mine){
	var cnt= 0;
	var c1 = com.substring(0,1);
	var c2 = com.substring(1,2);
	var c3 = com.substring(2,3);
	
	var m1 = mine.substring(0,1);
	var m2 = mine.substring(1,2);
	var m3 = mine.substring(2,3);
	
	if(c1 == m2 || c1 == m3) cnt++;
	if(c2 == m1 || c2 == m3) cnt++;
	if(c3 == m1 || c3 == m2) cnt++;
	return cnt;
}

function myclick(){
	var obj_it = document.getElementById("it");
	var obj_ta = document.getElementById("ta");
	
	var mine = obj_it.value;
	var s = getS(com,mine);
	var b = getB(com,mine);
	var line = `${mine}\t${s}S${b}B\n`;
	var str_old = obj_ta.value;
	obj_ta.value = str_old + line;
	obj_it.value= "";
	
	if(s==3){
		alert("축하합니다.\n"+mine);
	}
}
</script>
</head>
<body onload="getR3()">
EX07<br>
<table border="1px">
	<tr>
		<td>야구:</td>
		<td>	
			<input type="text" id="it" />
		</td>
	</tr>
	<tr>
		<td colspan="2">	
			<input type="button" value="스크라이크" onclick="myclick()" />
		</td>
	</tr>
	<tr>
		<td colspan="2">	
			<textarea id="ta" rows="10" cols="15"></textarea>
		</td>
	</tr>
</table>
</body>
</html>